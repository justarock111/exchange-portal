
<!--Objects to pass in: Module Mappings-->
<%- include('../partials/header') %>

<div class="container-fluid">
    <div class="row">

        <div class="col-md-2 sidebar">

            <p class="lead"><h4><%= school.name %></h4></p>

            <div class="card">

                <img class="card-img-top" src="<%= school.logoPath %>" alt="">

                <div class="card-body">
                    <h6 class="card-title"><%= school.location %></h6>
                </div>

            </div>

            <div class="group">

                <li class="list-group-item"><a  href="/schools/<%=school._id%>"> <i class="fas fa-info-circle"></i> General Information</a></li>

                <li class="list-group-item focus"><a  href="/schools/<%=school._id%>/module_mappings"><i class="fas fa-people-arrows"></i> Module Mappings</a></li>

                <li class="list-group-item"><a  href="/schools/<%=  school._id %>/additional_information"> <i class="fas fa-plus-circle"></i> Additional Information</a></li>
            </div>


        </div>


        <div class="col-md-10 module-mappings-list">


        <% school.faculties.forEach((faculty) => { %>
       <div class="row faculty-name-container">

           <div class="subheader-one"><%= faculty.name %></div>

               <a href="/schools/<%= school._id %>/<%= faculty._id %>/module_mappings/new" class="btn btn-primary module-mapping-button" >Add Module Mapping</a>

       </div>

            <div class="container">
                <div class="row">
        <% faculty.moduleMappings.forEach((moduleMapping) => { %>

       <div class="module-mapping-container">
       <a class="module-mapping-card-link" href="/schools/<%= school._id %>/<%= faculty._id %>/module_mappings/<%= moduleMapping._id %>">
        <div class="card-group module-mapping-card">
            <div class="card local-module">
                <div class="card-body">
                    <div class="module-code"><%= moduleMapping.localModuleCode %></div>
                    <p class="module-name"><%= moduleMapping.localModuleName %></p>
                </div>
            </div>

            <div class="card host-module">
                <div class="card-body">
                    <div class="module-code"><%= moduleMapping.moduleCode %> </div>
                    <p class="module-name"><%= moduleMapping.moduleName %></p>
                </div>
            </div>

        </div>
       </a>
       </div>
                    <% }); %>
                </div>

       </div>
            <hr>
        <% }); %>



        </div>
    </div>

</div>

<%- include('../partials/footer') %>